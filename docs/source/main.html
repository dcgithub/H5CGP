<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">// The main logic for your project goes in this file.

<span id='global-property-player'>/**
</span> * The {@link Player} object; an {@link Actor} controlled by user input.
 */
var player;

<span id='global-property-keys'>/**
</span> * Keys used for various directions.
 *
 * The property names of this object indicate actions, and the values are lists
 * of keyboard keys or key combinations that will invoke these actions. Valid
 * keys include anything that {@link jQuery.hotkeys} accepts. The up, down,
 * left, and right properties are required if the `keys` variable exists; if
 * you don&#39;t want to use them, just set them to an empty array. {@link Actor}s
 * can have their own {@link Actor#keys keys} which will override the global
 * set.
 */
var keys = {
  up: [&#39;up&#39;, &#39;w&#39;],
  down: [&#39;down&#39;, &#39;s&#39;],
  left: [&#39;left&#39;, &#39;a&#39;],
  right: [&#39;right&#39;, &#39;d&#39;],
};

<span id='global-property-preloadables'>/**
</span> * An array of image file paths to pre-load.
 */
var preloadables = [];

<span id='global-method-update'>/**
</span> * A magic-named function where all updates should occur.
 */
function update() {
  player.update();
}

<span id='global-method-draw'>/**
</span> * A magic-named function where all drawing should occur.
 */
function draw() {
  // Draw a background. This is just for illustration so we can see scrolling.
  context.drawCheckered(80, 0, 0, world.width, world.height);

	player.draw();
}

<span id='global-method-setup'>/**
</span> * A magic-named function for one-time setup.
 *
 * @param {Boolean} first
 *   true if the app is being set up for the first time; false if the app has
 *   been reset and is starting over.
 */
function setup(first) {
  // Change the size of the playable area. Do this before placing items!
  world.resize(canvas.width + 200, canvas.height + 200);

  // Switch from side view to top-down.
  Actor.prototype.GRAVITY = false;

  // Initialize the player.
  player = new Player();
}
</pre>
</body>
</html>
